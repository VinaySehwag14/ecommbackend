{"version":3,"sources":["backend.js","auth/index.js","components/Navbar.js","components/base.js","components/Footer.js","user/Signup.js","user/Signin.js","components/Image.js","components/Card.js","components/cartHelper.js","admin/helper/adminapicall.js","App.js","auth/AdminRoute.js","auth/PrivateRoute.js","user/adminLeftSide.js","user/adminRightSide.js","user/AdminDashBoard.js","admin/AddCategory.js","admin/ManageCategories.js","admin/AddProduct.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/UpdateCategory.js","components/BraintreePayment.js","payment/paymentHelper.js","components/Cart.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","activeNav","history","path","location","pathname","color","withRouter","className","style","to","user","role","onClick","next","push","removeItem","fetch","method","then","response","console","log","catch","err","Base","title","description","children","Footer","Signup","useState","name","email","password","error","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","stringify","json","data","display","onChange","type","Signin","loading","didRedirect","signin","setItem","authenticate","Image","product","imageurl","_id","src","alt","maxHeight","maxWidth","Card","addCartBt","removeCartBt","setReload","f","reload","undefined","redirect","setRedirect","cardTitle","cardDescription","cardPrice","price","addToCart","item","cart","addItemToCart","getRedirect","showAddToCart","productId","map","i","splice","removeItemFromCart","showRemoveCart","getAllCategories","res","getAllProducts","updateProduct","userId","token","Authorization","App","products","setProducts","setError","useEffect","index","AdminRoute","Component","component","rest","render","props","state","from","PrivateRoute","adminLeftSide","adminRightSide","AdminDashBoard","AddCategory","category","setCategory","setSuccess","e","createCategory","successMessage","warningMessage","autoFocus","required","placeholder","ManageCategories","categories","setCategories","preload","deleteACategory","categoryId","deleteCategory","AddProduct","stock","image","createdProduct","getaRedirect","formData","FormData","createProduct","files","set","accept","cate","ManageProducts","deleteAProduct","deleteProduct","UpdateProduct","match","updatedProduct","getProduct","preloadCategories","params","errorMessage","UpdateCategory","getCategory","updateCategory","BraintreePayment","clientToken","instance","info","setInfo","getMeToken","getToken","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","getAmount","paymentInfo","processPayment","orderData","transaction_id","transaction","order","createOrder","p","length","options","authorization","onInstance","Cart","loadCart","loadAllProducts","Routes","exact","UserDashBoard","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1f25516a.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND_TEST;\r\n","import { API } from \"../backend\";\r\n\r\nexport const signup = (user) => {\r\n  return fetch(`${API}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const signin = (user) => {\r\n  return fetch(`${API}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const signout = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"jwt\");\r\n    next();\r\n  }\r\n  return fetch(`${API}/signout`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      console.log(\"Signout successfully\");\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == \"undefined\") {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"jwt\")) {\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from \"../auth\";\r\n\r\nconst activeNav = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: \"#ffc107\" };\r\n  } else {\r\n    return { color: \"#FFFFFF\" };\r\n  }\r\n};\r\n\r\nconst Navbar = ({ history }) => (\r\n  <div>\r\n    <ul className=\"nav nav-tabs bg-dark\">\r\n      <li className=\"nav-item\">\r\n        <Link style={activeNav(history, \"/\")} className=\"nav-link\" to=\"/\">\r\n          Home\r\n        </Link>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <Link\r\n          style={activeNav(history, \"/cart\")}\r\n          className=\"nav-link\"\r\n          to=\"/cart\"\r\n        >\r\n          Cart\r\n        </Link>\r\n      </li>\r\n      {/* {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            style={activeNav(history, \"/user/dashboard\")}\r\n            className=\"nav-link\"\r\n            to=\"/user/dashboard\"\r\n          >\r\n            Dashboard\r\n          </Link>\r\n        </li>\r\n      )} */}\r\n      {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            style={activeNav(history, \"/admin/dashboard\")}\r\n            className=\"nav-link\"\r\n            to=\"/admin/dashboard\"\r\n          >\r\n            Admin\r\n          </Link>\r\n        </li>\r\n      )}\r\n\r\n      {!isAuthenticated() && (\r\n        <>\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              style={activeNav(history, \"/signup\")}\r\n              className=\"nav-link\"\r\n              to=\"/signup\"\r\n            >\r\n              Signup\r\n            </Link>\r\n          </li>\r\n\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              style={activeNav(history, \"/signin\")}\r\n              className=\"nav-link text-info\"\r\n              to=\"/signin\"\r\n            >\r\n              Sign In\r\n            </Link>\r\n          </li>\r\n        </>\r\n      )}\r\n      {isAuthenticated() && (\r\n        <li className=\"nav-items\">\r\n          <span\r\n            className=\"nav-link text-danger\"\r\n            onClick={() => {\r\n              signout(() => {\r\n                history.push(\"/\");\r\n              });\r\n            }}\r\n          >\r\n            Signout\r\n          </span>\r\n        </li>\r\n      )}\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nexport default withRouter(Navbar);\r\n","import React from \"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport \"./base.css\";\r\n\r\nconst Base = ({\r\n  title = \"My Tittle\",\r\n  description = \"My description\",\r\n  className = \"bg-white text-dark p-4\",\r\n  children,\r\n}) => (\r\n  <div>\r\n    <Navbar />\r\n    <div className=\"jumbotron container-fluid\">\r\n      <div className=\"jumbotron text-center\">\r\n        <h2 className=\"display-4\">{title}</h2>\r\n        <p className=\"lead\">{description}</p>\r\n      </div>\r\n      <div className={className}>{children}</div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Base;\r\n","import React from \"react\";\r\nimport \"./Footer.css\";\r\nconst Footer = () => {\r\n  return (\r\n    <div>\r\n      <footer className=\"footer fixed-bottom bg-dark mt-auto \">\r\n        <div\r\n          className=\"container-fluid bg-information\r\n       text-center text-white py-3\"\r\n        >\r\n          <h4>Copyright &copy; 2021 All Rights Reserved by Vinay Sehwag</h4>\r\n          {/* <button className=\"btn btn-warning btn-lg\">Contact Us</button> */}\r\n        </div>\r\n        {/* <div className=\"container\">\r\n        <span className=\"text-muted\">\r\n          This is where you will get healthy and chemical free food\r\n        </span>\r\n      </div> */}\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../components/base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signup } from \"../auth\";\r\nimport Footer from \"../components/Footer\";\r\n\r\nconst Signup = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n  });\r\n\r\n  const { name, email, password, error, success } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false });\r\n    signup({ name, email, password })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, success: false });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            success: true,\r\n          });\r\n        }\r\n      })\r\n      .catch(console.log(\"Error in signingup\"));\r\n  };\r\n\r\n  const signUpForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-dark\">Name</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"name\")}\r\n                type=\"text\"\r\n                value={name}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-dark\">Email</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"email\")}\r\n                type=\"email\"\r\n                value={email}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"text-dark\">\r\n                Password{\" \"}\r\n                <span className=\"badge badge-warning mr-2\">\r\n                  (contains atleast 1 number)\r\n                </span>\r\n              </label>\r\n              <input\r\n                onChange={handleChange(\"password\")}\r\n                className=\"form-control\"\r\n                type=\"password\"\r\n                value={password}\r\n              />\r\n            </div>\r\n            <button onClick={onSubmit} className=\"btn btn-warning btn-block\">\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const successMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-info\"\r\n            style={{ display: success ? \"\" : \"none\" }}\r\n          >\r\n            New account was created successfully. Please{\" \"}\r\n            <Link to=\"/signin\">Login Here</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Base title=\"Sign Up \" description=\" \">\r\n        {successMessage()}\r\n        {errorMessage()}\r\n        {signUpForm()}\r\n      </Base>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Base from \"../components/base\";\r\nimport Footer from \"../components/Footer\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\r\n\r\nconst Signin = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    loading: false,\r\n    didRedirect: false,\r\n  });\r\n\r\n  const { email, password, error, loading, didRedirect } = values;\r\n  const { user } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n    signin({ email, password }).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error, loading: false });\r\n      } else {\r\n        authenticate(data, () => {\r\n          setValues({\r\n            ...values,\r\n            didRedirect: true,\r\n          });\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const performRedirect = () => {\r\n    if (didRedirect) {\r\n      if (user && user.role === 1) {\r\n        return <Redirect to=\"/admin/dashboard\" />;\r\n      } else {\r\n        return <Redirect to=\"/\" />;\r\n      }\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const loadingMessage = () => {\r\n    return (\r\n      loading && (\r\n        <div className=\"alert alert-info\">\r\n          <h2>Loading....</h2>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const signInForm = () => {\r\n    return (\r\n      <>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 offset-sm-3 text-left pt-2 p-5 \">\r\n            <form>\r\n              <div className=\"form-group \">\r\n                <label className=\"text-light\">Email</label>\r\n                <input\r\n                  onChange={handleChange(\"email\")}\r\n                  value={email}\r\n                  className=\"form-control\"\r\n                  type=\"email\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label className=\"text-light\">Password</label>\r\n                <input\r\n                  onChange={handleChange(\"password\")}\r\n                  value={password}\r\n                  className=\"form-control\"\r\n                  type=\"password\"\r\n                />\r\n              </div>\r\n              <button onClick={onSubmit} className=\"btn btn-warning btn-block\">\r\n                Submit\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      <Base title=\"Sign In\" description=\" \">\r\n        {loadingMessage()}\r\n        {errorMessage()}\r\n        {signInForm()}\r\n        {performRedirect()}\r\n      </Base>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","import React from \"react\";\r\nimport { API } from \"../backend\";\r\nconst Image = ({ product }) => {\r\n  const imageurl = product\r\n    ? `${API}/product/image/${product._id}`\r\n    : `https://images.pexels.com/photos/7955141/pexels-photo-7955141.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500`;\r\n  return (\r\n    <div className=\"rounded border border-success p-2\">\r\n      <img\r\n        src={imageurl}\r\n        alt=\"image\"\r\n        style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n        className=\"mb-3 rounded\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Image;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { addItemToCart, removeItemFromCart } from \"./cartHelper\";\r\nimport Image from \"./Image\";\r\nimport \"./Card.css\";\r\n\r\nconst Card = ({\r\n  product,\r\n  addCartBt = true,\r\n  removeCartBt = false,\r\n  setReload = (f) => f,\r\n  reload = undefined,\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  const cardTitle = product ? product.name : \"Its secret, explore yourself\";\r\n  const cardDescription = product\r\n    ? product.description\r\n    : \"Its secret, explore yourself\";\r\n  const cardPrice = product ? product.price : \"Its secret, explore yourself\";\r\n\r\n  const addToCart = () => {\r\n    //!set redirect true for redirecting after adding to cart\r\n    addItemToCart(product, () => setRedirect(false));\r\n  };\r\n\r\n  const getRedirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCart = (addCartBt) => {\r\n    return (\r\n      addCartBt && (\r\n        <div className=\"col-12\">\r\n          <button\r\n            onClick={addToCart}\r\n            className=\"btn btn-block btn-outline-warning mt-2 mb-2\"\r\n          >\r\n            Add to Cart\r\n          </button>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveCart = (removeCartBt) => {\r\n    return (\r\n      removeCartBt && (\r\n        <div className=\"col-12\">\r\n          <button\r\n            onClick={() => {\r\n              removeItemFromCart(product._id);\r\n              setReload(!reload);\r\n            }}\r\n            className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\r\n          >\r\n            Remove from cart\r\n          </button>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"card border border-info \">\r\n      <div className=\"card-header lead\">{cardTitle}</div>\r\n      {getRedirect(redirect)}\r\n      <div className=\"card-body\">\r\n        <Image product={product} />\r\n        <p className=\"lead font-weight-normal text-wrap\">{cardDescription}</p>\r\n        <p className=\"btn btn-block btn-muted rounded  mt-2 mb-2\">\r\n          â‚¹ {cardPrice}\r\n        </p>\r\n        <div className=\"row\">\r\n          {showAddToCart(addCartBt)}\r\n          {showRemoveCart(removeCartBt)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","export const addItemToCart = (item, next) => {\r\n  let cart = [];\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.push({\r\n      ...item,\r\n    });\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const loadCart = () => {\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n  }\r\n};\r\n\r\nexport const removeItemFromCart = (productId) => {\r\n  let cart = [];\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart.splice(i, 1);\r\n      }\r\n    });\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n  return cart;\r\n};\r\n\r\nexport const cartEmpty = (next) => {\r\n  if (typeof window !== undefined) {\r\n    localStorage.removeItem(\"cart\");\r\n    let cart = [];\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n","import { API } from \"../../backend\";\r\n\r\n// categories calls\r\n//create a category\r\nexport const createCategory = (userId, token, category) => {\r\n  return fetch(`${API}/category/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//all categories\r\nexport const getAllCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//* get a category\r\nexport const getCategory = (categoryId) => {\r\n  return fetch(`${API}/category/${categoryId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//*deleting category\r\nexport const deleteCategory = (categoryId, userId, token) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => {\r\n      // console.log(res.json());\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n//* updating category\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n//products calls\r\n//create product\r\nexport const createProduct = (userId, token, product) => {\r\n  return fetch(`${API}/product/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n//get all products\r\nexport const getAllProducts = () => {\r\n  return fetch(`${API}/products/Allproduct`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//delete a product\r\nexport const deleteProduct = (productId, userId, token) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n//get a product\r\nexport const getProduct = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n//update a product\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n//*order api\r\n\r\nexport const createOrder = (userId, token, orderData) => {\r\n  return fetch(`${API}/order/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ order: orderData }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Base from \"./components/base\";\r\nimport \"../src/components/mainStyle.css\";\r\nimport Card from \"./components/Card\";\r\nimport Footer from \"./components/Footer\";\r\nimport { getAllProducts } from \"./admin/helper/adminapicall\";\r\n// import Carousel from \"./components/carousel\";\r\n\r\nconst App = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(false);\r\n  const loadAllProducts = () => {\r\n    getAllProducts().then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadAllProducts();\r\n  }, []);\r\n  return (\r\n    <>\r\n      <Base title=\"Kisaan Ki Dukaan\" description=\"\">\r\n        {/* <Carousel /> */}\r\n        <div />\r\n        <div className=\"row text-center\">\r\n          <div className=\"row \">\r\n            {products.map((product, index) => {\r\n              return (\r\n                <div key={index} className=\"col-3 mb-5\">\r\n                  <Card product={product} />\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </Base>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \".\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default AdminRoute;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \".\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticated() ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst adminLeftSide = () => {\r\n  return (\r\n    <div className=\"card\">\r\n      <h4 className=\"card-header bg-dark text-white\">Admin Navigation</h4>\r\n      <ul className=\"list-group\">\r\n        <li className=\"list-group-item\">\r\n          <Link to=\"/admin/create/category\" className=\"nav-link text-warning\">\r\n            Create Categories\r\n          </Link>\r\n        </li>\r\n        <li className=\"list-group-item\">\r\n          <Link to=\"/admin/categories\" className=\"nav-link text-warning\">\r\n            Manage Categories\r\n          </Link>\r\n        </li>\r\n        <li className=\"list-group-item\">\r\n          <Link to=\"/admin/create/product\" className=\"nav-link text-warning\">\r\n            Create Product\r\n          </Link>\r\n        </li>\r\n        <li className=\"list-group-item\">\r\n          <Link to=\"/admin/products\" className=\"nav-link text-warning\">\r\n            Manage Product\r\n          </Link>\r\n        </li>\r\n        {/* //*work on this when you make it official */}\r\n        {/* <li className=\"list-group-item\">\r\n          <Link to=\"/admin/orders\" className=\"nav-link text-warning\">\r\n            Manage Order\r\n          </Link>\r\n        </li> */}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default adminLeftSide;\r\n","import React from \"react\";\r\nimport { isAuthenticated } from \"../auth\";\r\n\r\nconst adminRightSide = () => {\r\n  const {\r\n    user: { email, role },\r\n  } = isAuthenticated();\r\n\r\n  return (\r\n    <div className=\"card mb-4\">\r\n      <h4 className=\"card-header\">Admin info</h4>\r\n      <ul className=\"list-group\">\r\n        <li className=\"list-group-item\">\r\n          <span className=\"badge badge-pill bg-warning mr-2\">Email:</span>\r\n          {email}\r\n        </li>\r\n        <li className=\"list-group-item\">\r\n          <span>Roll:</span>\r\n          {role && (\r\n            <span className=\"badge badge-pill bg-warning mr-2\">Admin</span>\r\n          )}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default adminRightSide;\r\n","import React from \"react\";\r\nimport Base from \"../components/base\";\r\nimport Footer from \"../components/Footer\";\r\nimport adminLeftSide from \"./adminLeftSide\";\r\nimport adminRightSide from \"./adminRightSide\";\r\n\r\nconst AdminDashBoard = () => {\r\n  return (\r\n    <>\r\n      <Base\r\n        title=\"Admin DashBoard \"\r\n        description=\" \"\r\n        className=\"container bg-warning p-4\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-3\">{adminLeftSide()}</div>\r\n          <div className=\"col-9\">{adminRightSide()}</div>\r\n        </div>\r\n      </Base>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminDashBoard;\r\n","import React from \"react\";\r\nimport Base from \"../components/base\";\r\nimport Footer from \"../components/Footer\";\r\nimport { useState } from \"react\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createCategory } from \"./helper/adminapicall\";\r\n\r\nconst AddCategory = () => {\r\n  const [category, setCategory] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const returnButton = () => {\r\n    return (\r\n      <div className=\"mt-5\">\r\n        <Link className=\"btn btn-m btn-info mb-3\" to=\"/admin/dashboard\">\r\n          Go Back\r\n        </Link>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setError(\"\");\r\n    setCategory(e.target.value);\r\n  };\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n\r\n    //backend request\r\n    createCategory(user._id, token, { category }).then((data) => {\r\n      if (data.error) {\r\n        setError(true);\r\n      } else {\r\n        setError(\"\");\r\n        setSuccess(true);\r\n        setCategory(\"\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const successMessage = () => {\r\n    if (success) {\r\n      return <h4 className=\"text-info\">Category created scuccessfully</h4>;\r\n    }\r\n  };\r\n  const warningMessage = () => {\r\n    if (error) {\r\n      return <h4 className=\"text-danger\">Failed to create category</h4>;\r\n    }\r\n  };\r\n\r\n  const categoryForm = () => (\r\n    <form>\r\n      <div className=\"form-group\">\r\n        <p className=\"lead\">Enter category</p>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control my-3\"\r\n          onChange={handleChange}\r\n          value={category}\r\n          autoFocus\r\n          required\r\n          placeholder=\"For Ex. Organic\"\r\n        />\r\n        <button onClick={onSubmit} className=\"btn btn-outline-info\">\r\n          Create Category\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <Base\r\n          title=\"Create a new Category\"\r\n          description=\" \"\r\n          className=\"container bg-white p-4\"\r\n        >\r\n          <div className=\"row bg-white rounded\">\r\n            <div className=\"col-md-8 offset-md-2\">\r\n              {successMessage()}\r\n              {warningMessage()}\r\n              {categoryForm()}\r\n              {returnButton()}\r\n            </div>\r\n          </div>\r\n        </Base>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport Base from \"../components/base\";\r\nimport Footer from \"../components/Footer\";\r\nimport { getAllCategories, deleteCategory } from \"./helper/adminapicall\";\r\n\r\nconst ManageCategories = () => {\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const preload = () => {\r\n    getAllCategories().then((data) => {\r\n      console.log(data);\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const deleteACategory = (categoryId) => {\r\n    deleteCategory(categoryId, user._id, token).then((data) => {\r\n      console.log(data);\r\n      if (data && data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        preload();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Base title=\"Welcome admin\" description=\"Manage Categories here\">\r\n        <h2 className=\"mb-4\">All Categories:</h2>\r\n        <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n          <span className=\"\">Admin Home</span>\r\n        </Link>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center text-white my-3\">Total 3 Categories</h2>\r\n\r\n            {categories.map((category, index) => {\r\n              return (\r\n                <div key={index} className=\"row text-center mb-2 \">\r\n                  <div className=\"col-4\">\r\n                    <h3 className=\" text-left\">{category.category}</h3>\r\n                  </div>\r\n                  <div className=\"col-4\">\r\n                    <Link\r\n                      className=\"btn text-white btn-warning\"\r\n                      to={`/admin/category/update/${category._id}`}\r\n                    >\r\n                      <span className=\"\">Update</span>\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"col-4\">\r\n                    <button\r\n                      onClick={() => {\r\n                        deleteACategory(category._id);\r\n                      }}\r\n                      className=\"btn btn-danger\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </Base>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ManageCategories;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Base from \"../components/base\";\r\nimport Footer from \"../components/Footer\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getAllCategories } from \"./helper/adminapicall\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { createProduct } from \"./helper/adminapicall\";\r\nconst AddProduct = () => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    image: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getaRedirect: false,\r\n    formData: \"\",\r\n  });\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    // image,\r\n    categories,\r\n    // category,\r\n    // loading,\r\n    // error,\r\n    createdProduct,\r\n    // getaRedirect,\r\n    formData,\r\n  } = values;\r\n\r\n  const preload = () => {\r\n    getAllCategories().then((data) => {\r\n      console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({ ...values, categories: data, formData: new FormData() });\r\n        console.log(categories);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    createProduct(user._id, token, formData).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          description: \"\",\r\n          price: \"\",\r\n          image: \"\",\r\n          stock: \"\",\r\n          loading: false,\r\n          createdProduct: data.name,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"image\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{createdProduct} created successfully</h4>\r\n    </div>\r\n  );\r\n\r\n  const errorMessage = (error) => (\r\n    <div\r\n      className=\"alert alert-danger mt-3\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{error} occured , unsuccessfull</h4>\r\n    </div>\r\n  );\r\n\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-warning\">\r\n          <input\r\n            onChange={handleChange(\"image\")}\r\n            type=\"file\"\r\n            name=\"image\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"image\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Please select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => {\r\n              return (\r\n                <option key={index} value={cate._id}>\r\n                  {cate.category}\r\n                </option>\r\n              );\r\n            })}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"stock\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-info mb-3\"\r\n      >\r\n        Create Product\r\n      </button>\r\n    </form>\r\n  );\r\n  return (\r\n    <>\r\n      <Base\r\n        title=\"Add a Product\"\r\n        description=\" \"\r\n        className=\"container bg-white p-4\"\r\n      >\r\n        <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-info mb-3\">\r\n          Go Back\r\n        </Link>\r\n        <div className=\"row bg-white text-black rounded\">\r\n          <div className=\"col-md-8 offset-md-2\">\r\n            {successMessage()}\r\n            {errorMessage()}\r\n            {createProductForm()}\r\n          </div>\r\n        </div>\r\n      </Base>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport Base from \"../components/base\";\r\nimport Footer from \"../components/Footer\";\r\nimport { getAllProducts, deleteProduct } from \"./helper/adminapicall\";\r\n\r\nconst ManageProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const preload = () => {\r\n    getAllProducts().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const deleteAProduct = (productId) => {\r\n    deleteProduct(productId, user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        preload();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n        <h2 className=\"mb-4\">All products:</h2>\r\n        <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n          <span className=\"\">Admin Home</span>\r\n        </Link>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center my-3\">Total 3 products</h2>\r\n\r\n            {products.map((product, index) => {\r\n              return (\r\n                <div key={index} className=\"row text-center mb-2 \">\r\n                  <div className=\"col-4\">\r\n                    <h3 className=\"text-left\">{product.name}</h3>\r\n                  </div>\r\n                  <div className=\"col-4\">\r\n                    <Link\r\n                      className=\"btn text-white btn-warning\"\r\n                      to={`/admin/product/update/${product._id}`}\r\n                    >\r\n                      <span className=\"\">Update</span>\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"col-4\">\r\n                    <button\r\n                      onClick={() => {\r\n                        deleteAProduct(product._id);\r\n                      }}\r\n                      className=\"btn btn-danger\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </Base>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\nexport default ManageProducts;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Base from \"../components/base\";\r\nimport Footer from \"../components/Footer\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  getAllCategories,\r\n  getProduct,\r\n  updateProduct,\r\n} from \"./helper/adminapicall\";\r\nimport { isAuthenticated } from \"../auth\";\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    image: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    updatedProduct: \"\",\r\n    getaRedirect: false,\r\n    formData: \"\",\r\n  });\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    category,\r\n    categories,\r\n    loading,\r\n    error,\r\n    updatedProduct,\r\n    getaRedirect,\r\n    formData,\r\n  } = values;\r\n\r\n  const preload = (productId) => {\r\n    getProduct(productId).then((data) => {\r\n      console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price,\r\n          category: data.category._id,\r\n          stock: data.stock,\r\n          formData: new FormData(),\r\n        });\r\n\r\n        preloadCategories();\r\n      }\r\n    });\r\n  };\r\n\r\n  const preloadCategories = () => {\r\n    getAllCategories().then((data) => {\r\n      // console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          categories: data,\r\n          formData: new FormData(),\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload(match.params.productId);\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"image\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    updateProduct(match.params.productId, user._id, token, formData).then(\r\n      (data) => {\r\n        console.log(data);\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            description: \"\",\r\n            price: \"\",\r\n            image: \"\",\r\n            stock: \"\",\r\n            loading: false,\r\n            updatedProduct: data.name,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div\r\n      className=\"alert alert-warning mt-3\"\r\n      style={{ display: updatedProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{updateProduct} updated successfully</h4>\r\n    </div>\r\n  );\r\n\r\n  const errorMessage = (error) => (\r\n    <div\r\n      className=\"alert alert-danger mt-3\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{error} occured , unsuccessfull</h4>\r\n    </div>\r\n  );\r\n\r\n  const createProductForm = () => (\r\n    <form className=\"mb-3\" onSubmit={onSubmit}>\r\n      {/* <h1>Post image</h1> */}\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-warning\">\r\n          <input\r\n            onChange={handleChange(\"image\")}\r\n            type=\"file\"\r\n            name=\"image\"\r\n            accept=\"image/*\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"image\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Description</label>\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"image\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Price</label>\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Category</label>\r\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => {\r\n              return (\r\n                <option key={index} value={cate._id}>\r\n                  {cate.category}\r\n                </option>\r\n              );\r\n            })}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"stock\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-info mb-3\"\r\n      >\r\n        Update Product\r\n      </button>\r\n    </form>\r\n  );\r\n  return (\r\n    <>\r\n      <Base\r\n        title=\"Update a Product\"\r\n        description=\" \"\r\n        className=\"container bg-white p-4\"\r\n      >\r\n        <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-info mb-3\">\r\n          Go Back\r\n        </Link>\r\n        <div className=\"row bg-white text-black rounded\">\r\n          <div className=\"col-md-8 offset-md-2\">\r\n            {successMessage()}\r\n            {errorMessage()}\r\n            {createProductForm()}\r\n          </div>\r\n        </div>\r\n      </Base>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Base from \"../components/base\";\r\nimport Footer from \"../components/Footer\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCategory, updateCategory } from \"./helper/adminapicall\";\r\nimport { isAuthenticated } from \"../auth\";\r\n\r\nconst UpdateCategory = ({ match }) => {\r\n  const [category, setCategory] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const goBack = () => {\r\n    return (\r\n      <div className=\"mt-5\">\r\n        <Link className=\"btn btn-small btn-dark mb-3\" to=\"/admin/dashboard\">\r\n          Admin Home\r\n        </Link>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const preload = (categoryId) => {\r\n    getCategory(categoryId).then((data) => {\r\n      if (data.error) {\r\n        setError(true);\r\n      } else {\r\n        setCategory(data.category);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload(match.params.categoryId);\r\n  }, []);\r\n\r\n  const handleChange = (event) => {\r\n    setError(\"\");\r\n    setCategory(event.target.value);\r\n  };\r\n\r\n  const successMessage = () => {\r\n    if (success) {\r\n      return (\r\n        <h4 className=\"alert alert-success mt-3\">\r\n          Category Updated Successfully\r\n        </h4>\r\n      );\r\n    }\r\n  };\r\n\r\n  const warningMessage = () => {\r\n    if (error) {\r\n      return (\r\n        <h4 className=\"alert alert-danger mt-3\">Failed To Update Category</h4>\r\n      );\r\n    }\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n\r\n    // Backend request fired\r\n    updateCategory(match.params.categoryId, user._id, token, { category }).then(\r\n      (data) => {\r\n        console.log(data);\r\n        if (data.error) {\r\n          setError(true);\r\n        } else {\r\n          setError(\"\");\r\n          setSuccess(true);\r\n          setCategory(\"\");\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const myCategoryForm = () => {\r\n    return (\r\n      <form>\r\n        <div className=\"form-group\">\r\n          <p className=\"lead\">Update the Category</p>\r\n          <input\r\n            className=\"form-control my-3\"\r\n            type=\"text\"\r\n            onChange={handleChange}\r\n            value={category}\r\n            autoFocus\r\n            required\r\n            placeholder=\"For Ex- Summer\"\r\n          />\r\n          <button onClick={onSubmit} className=\"btn btn-outline-info\">\r\n            Update Category\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Base\r\n        title=\"Category Updation Area\"\r\n        description=\"An area for updation of Categories\"\r\n        className=\"container bg-info p-4\"\r\n      >\r\n        {goBack()}\r\n        <div className=\"row bg-white rounded\">\r\n          <div className=\"col-md-8 offset-md-2\">\r\n            {successMessage()}\r\n            {warningMessage()}\r\n            {myCategoryForm()}\r\n          </div>\r\n        </div>\r\n      </Base>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UpdateCategory;\r\n","import DropIn from \"braintree-web-drop-in-react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createOrder } from \"../admin/helper/adminapicall\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { getToken, processPayment } from \"../payment/paymentHelper\";\r\nimport { cartEmpty, loadCart } from \"./cartHelper\";\r\n\r\nconst BraintreePayment = ({\r\n  products,\r\n  setReload = (f) => f,\r\n  reload = undefined,\r\n}) => {\r\n  const [info, setInfo] = useState({\r\n    loading: false,\r\n    success: false,\r\n    clientToken: null,\r\n    error: \"\",\r\n    instance: {},\r\n  });\r\n\r\n  const userId = isAuthenticated() && isAuthenticated().user._id;\r\n  const token = isAuthenticated() && isAuthenticated().token;\r\n\r\n  const getMeToken = (userId, token) => {\r\n    getToken(userId, token).then((info) => {\r\n      console.log(\"INFO\", info);\r\n      if (info && info.error) {\r\n        setInfo({ ...info, error: info.error });\r\n      } else {\r\n        const clientToken = info.clientToken;\r\n        setInfo({ clientToken });\r\n      }\r\n    });\r\n  };\r\n\r\n  const showDropIn = () => {\r\n    return (\r\n      <div>\r\n        {info.clientToken !== null && products.length > 0 ? (\r\n          <div>\r\n            <DropIn\r\n              options={{ authorization: info.clientToken }}\r\n              onInstance={(instance) => (info.instance = instance)}\r\n            />\r\n            <button\r\n              className=\"btn btn-block text-white btn-warning\"\r\n              onClick={onPurchase}\r\n            >\r\n              Buy\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <h3>Add somthing to cart</h3>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getMeToken(userId, token);\r\n  }, []);\r\n\r\n  const onPurchase = () => {\r\n    setInfo({ loading: true });\r\n    let nonce;\r\n    let getNonce = info.instance.requestPaymentMethod().then((data) => {\r\n      nonce = data.nonce;\r\n      const paymentData = {\r\n        paymentMethodNonce: nonce,\r\n        amount: getAmount(),\r\n      };\r\n      processPayment(userId, token, paymentData)\r\n        .then((response) => {\r\n          setInfo({ ...info, success: response.success, loading: false });\r\n          const orderData = {\r\n            products: products,\r\n            transaction_id: response.transaction_id,\r\n            amount: response.transaction.amount,\r\n          };\r\n          createOrder(userId, token, orderData);\r\n          cartEmpty(() => {});\r\n          setReload(!reload);\r\n        })\r\n        .catch((error) => {\r\n          setInfo({ loading: false, success: false });\r\n        });\r\n    });\r\n  };\r\n\r\n  const getAmount = () => {\r\n    let amount = 0;\r\n    products.map((p) => {\r\n      amount = amount + p.price;\r\n    });\r\n    return amount;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Total Bill is â‚¹{getAmount()}</h3>\r\n      {showDropIn()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BraintreePayment;\r\n","import { API } from \"../backend\";\r\n\r\nexport const getToken = (userId, token) => {\r\n  return fetch(`${API}/payment/gettoken/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      console.log(\"frontenresAPIhelper\", response);\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentInfo) => {\r\n  return fetch(`${API}/payment/braintree/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(paymentInfo),\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Base from \"./base\";\r\nimport BraintreePayment from \"./BraintreePayment\";\r\nimport Card from \"./Card\";\r\nimport { loadCart } from \"./cartHelper\";\r\nimport Footer from \"./Footer\";\r\nimport \"./mainStyle.css\";\r\nconst Cart = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [reload, setReload] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setProducts(loadCart());\r\n  }, [reload]);\r\n\r\n  const loadAllProducts = (products) => {\r\n    return (\r\n      <div>\r\n        {products.map((product, index) => (\r\n          <Card\r\n            key={index}\r\n            product={product}\r\n            removeCartBt={true}\r\n            addCartBt={false}\r\n            reload={reload}\r\n            setReload={setReload}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // const loadCheckOut = () => {\r\n  //   return <div>this section for checkout</div>;\r\n  // };\r\n  return (\r\n    <>\r\n      <Base title=\"Check out\" description=\" \">\r\n        <div className=\"row text-center\">\r\n          <div className=\"col-3\">\r\n            {products.length > 0 ? (\r\n              loadAllProducts(products)\r\n            ) : (\r\n              <h3>Add some products</h3>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"col-6\">\r\n            <BraintreePayment products={products} setReload={setReload} />\r\n          </div>\r\n        </div>\r\n      </Base>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Signup from \"./user/Signup\";\r\nimport Signin from \"./user/Signin\";\r\nimport App from \"./App\";\r\nimport AdminRoute from \"./auth/AdminRoute\";\r\nimport PrivateRoute from \"./auth/PrivateRoute\";\r\nimport UserDashBoard from \"./user/UserDashBoard\";\r\nimport AdminDashBoard from \"./user/AdminDashBoard\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport ManageCategories from \"./admin/ManageCategories\";\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport ManageProducts from \"./admin/ManageProducts\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport UpdateCategory from \"./admin/UpdateCategory\";\r\nimport Cart from \"./components/Cart\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={App} />\r\n        <Route exact path=\"/signup\" component={Signup} />\r\n        <Route exact path=\"/signin\" component={Signin} />\r\n        <Route exact path=\"/cart\" component={Cart} />\r\n        <PrivateRoute exact path=\"/user/dashboard\" component={UserDashBoard} />\r\n        <AdminRoute exact path=\"/admin/dashboard\" component={AdminDashBoard} />\r\n        <AdminRoute\r\n          exact\r\n          path=\"/admin/create/category\"\r\n          component={AddCategory}\r\n        />\r\n        <AdminRoute\r\n          exact\r\n          path=\"/admin/categories\"\r\n          component={ManageCategories}\r\n        />\r\n        <AdminRoute exact path=\"/admin/create/product\" component={AddProduct} />\r\n        <AdminRoute exact path=\"/admin/products\" component={ManageProducts} />\r\n        <AdminRoute\r\n          exact\r\n          path=\"/admin/categories\"\r\n          component={ManageCategories}\r\n        />\r\n        <AdminRoute\r\n          exact\r\n          path=\"/admin/product/update/:productId\"\r\n          component={UpdateProduct}\r\n        />\r\n        <AdminRoute\r\n          exact\r\n          path=\"/admin/category/update/:categoryId\"\r\n          component={UpdateCategory}\r\n        />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\r\nimport Routes from \"./Routes\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./components/mainStyle.css\";\r\n\r\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}